<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="globals.css" />
    <link rel="stylesheet" href="{{ url_for('static', filename='test_3.css') }}" />
</head>

<body>
    <div class="element">
        <div class="div">
            <div class="group">
                <div class="overlap-group"><div class="text-wrapper">03</div></div>
            </div>

            <p class="p">시험에서 치명적인 실수를 한 가족,<br />너무 우울해보일 때, 나는?</p>

            <!-- onsubmit 속성을 추가하여 setLabelValue(this) 호출 -->
            <form action="/question3" method="POST" onsubmit="setLabelValue(this)">
                <input type="hidden" name="label" value="" /> <!-- label 값을 저장할 숨겨진 필드 -->

                <div class="button-test1">
                    <button type="submit" name="choice" value="왜 실수했는지 이것저것 물어보며 대화를 한다." class="button-link" data-label="curious">
                        <p class="button">
                            <span class="span">속상한 마음에 왜 실수했는지,<br /></span>
                            <span class="text-wrapper2">이것저것 물어보며 대화</span><span class="span">를 한다.</span>
                        </p>
                    </button>
                </div>

                <div class="button-test2">
                    <button type="submit" name="choice" value="아무 말 없이 묵묵히 있어준다." class="button-link" data-label="trust">
                        <p class="button">
                            <span class="span">어떤 말도 도움이 될 것 같지 않아,<br /></span>
                            <span class="text-wrapper2">아무 말 없이 묵묵히 있어준다.</span>
                        </p>
                    </button>
                </div>

                <div class="button-test3">
                    <button type="submit" name="choice" value="내 이야기를 꺼내 위로나 도움이 되려 한다." class="button-link" data-label="ord">
                        <p class="button">
                            <span class="span">'나도 그런 적 있는데..' </span><span class="text-wrapper2">위로나 도움이<br /></span>
                            <span class="text-wrapper2">되고자 내 이야기를 꺼내본다.</span>
                        </p>
                    </button>
                </div>

                <div class="button-test4">
                    <button type="submit" name="choice" value="최선을 다해 위로해준다." class="button-link" data-label="lively">
                        <p class="button">
                            <span class="span">내가 속상한 기분.<br /></span>
                            <span class="text-wrapper2">옆에서 최선을 다해 위로해준다.</span>
                        </p>
                    </button>
                </div>

                <div class="button-test5">
                    <button type="submit" name="choice" value="조금만 더 공부해보지라고 아쉬움을 드러낸다." class="button-link" data-label="nervous">
                        <p class="button">
                            <span class="span">걱정되는 마음에, "조금만 더 공부<br /></span>
                            <span class="span">해보지" 라며</span>
                            <span class="text-wrapper2">아쉬움을 드러낸다.</span>
                        </p>
                    </button>
                </div>
            </form>

            <script>
                function setLabelValue(form) {
                    const button = form.querySelector('button[type="submit"]:focus');
                    if (button) {
                        const label = button.getAttribute('data-label');
                        form.querySelector('input[name="label"]').value = label;
                    }
                }
            </script>
        </div>
    </div>
</body>
</html>
